<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Speech-to-Text - In Browser Test</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/figuration@4.3.4/dist/css/figuration.min.css" integrity="sha384-27CNaeuUaKPPrvwYwtjW6JjqUhh89RcT4omYkXN4YpgUq6cfund39CEtVn1Q3Fah" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
<link rel="stylesheet" href="../css/stt.css" />

<!-- Figuration JS and dependencies -->
<script src="https://code.jquery.com/jquery-3.6.3.slim.min.js" integrity="sha384-bX7tuwViPEjy88JZEAaUe+FHOLZ9a9syCt8Z8UJ1sDbfwEIKdcFyHhW3yVPdFhd1" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/figuration@4.3.4/dist/js/figuration.min.js" integrity="sha384-mzBA/Zs5EuMaHKeM9e/x6uFYjpMlvciW2JRchT/WjcDgj7F4qPGHUDgJ/htfgHRg" crossorigin="anonymous"></script>
<script src="../js/stt.js"></script>
</head>
<body>

<div class="container">

<h1>Speech-to-Text - In Browser Test</h1>

<h2>Examples</h2>
<p>Click the microphone icon to start the STT for the associated input/container.</p>

<h3>Input</h3>
<div class="form-group">
    <label for="ex0">Example input</label>
    <div class="stt-wrapper">
        <input type="text" id="ex0" class="form-control">
        <button id="cex0" class="stt-start" data-cast="stt" data-target="#ex0"><span class="fa fa-microphone" aria-hidden="true"></span><span class="sr-only">Use Speech to Text</span></button>
    </div>
</div>

<h3>Textarea</h3>
<div class="form-group">
    <label for="ex1">Example textarea</label>
    <div class="stt-wrapper">
        <textarea class="form-control" id="ex1" rows="3"></textarea>
        <button id="cex1" class="stt-start" data-cast="stt" data-target="#ex1"><span class="fa fa-microphone" aria-hidden="true"></span><span class="sr-only">Use Speech to Text</span></button>
    </div>
</div>

<div class="form-group">
    <label for="ex2">Example pre-filled textarea</label>
    <div class="stt-wrapper">
        <textarea class="form-control" id="ex2" rows="3">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris fringilla elementum ex quis fermentum. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Nullam pharetra fermentum volutpat. Nam metus ex, posuere vitae feugiat non, interdum quis magna. Aenean in lorem at risus viverra dignissim id nec nulla. Nam posuere eget ipsum quis iaculis. Nulla sit amet tempor sem, ut sodales nisl. Integer commodo, lectus vestibulum pretium venenatis, ex dolor tristique massa, a feugiat nibh ligula ut diam. Aliquam erat volutpat.</textarea>
        <button id="cex2" class="stt-start" data-cast="stt" data-target="#ex2"><span class="fa fa-microphone" aria-hidden="true"></span><span class="sr-only">Use Speech to Text</span></button>
    </div>
</div>

<div class="form-group">
    <h3 class="h5">Example - Spanish language defined</h3>
    <p>Add <code>data-lang="es"</code> attribute to STT button</p>
    <div class="stt-wrapper">
        <textarea class="form-control" id="ex3" rows="3"></textarea>
        <button id="cex3" class="stt-start" data-cast="stt" data-target="#ex3" data-lang="es"><span class="fa fa-microphone" aria-hidden="true"></span><span class="sr-only">Use Speech to Text</span></button>
    </div>
</div>
<div class="form-group">
    <p>Add <code>lang="es"</code> attribute to acestor element</p>
    <div class="stt-wrapper" lang="es">
        <textarea class="form-control" id="ex4" rows="3"></textarea>
        <button id="cex4" class="stt-start" data-cast="stt" data-target="#ex4"><span class="fa fa-microphone" aria-hidden="true"></span><span class="sr-only">Use Speech to Text</span></button>
    </div>
</div>
<div class="form-group">
    <p>Add <code>lang="es"</code> attribute to input/textarea element</p>
    <div class="stt-wrapper">
        <textarea class="form-control" id="ex5" rows="3" lang="es"></textarea>
        <button id="cex5" class="stt-start" data-cast="stt" data-target="#ex5"><span class="fa fa-microphone" aria-hidden="true"></span><span class="sr-only">Use Speech to Text</span></button>
    </div>
</div>

<h3>Div</h3>
<div class="stt-wrapper">
    <div class="card card-body" id="ex6"></div>
    <button id="cex6" class="stt-start" data-cast="stt" data-target="#ex6"><span class="fa fa-microphone" aria-hidden="true"></span><span class="sr-only">Use Speech to Text</span></button>
</div>

<hr />

<h2>Usage</h2>

<h3>Via Data Attributes</h3>
<p>
A basic STT will have a control item and target HTML element.  On the control add <code>data-cast="stt"</code> attribute and a <code>data-target</code> attribute with a selector that points to the target element via ID or CSS selector.
</p>

<h3>Via JavaScript</h3>
<p>Call the plugin manually with options:</p>

<pre><code>
$('#mySTT').CAST_STT([options]);
</code></pre>

<h3>Options</h3>
<div class="table-responsive">
    <table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th style="width: 100px;">Name</th>
            <th style="width: 50px;">Type</th>
            <th style="width: 50px;">Default</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>continuous</td>
            <td>boolean</td>
            <td>true</td>
            <td>Setting for <a href="https://dvcs.w3.org/hg/speech-api/raw-file/tip/speechapi.html#dfn-continuous">SpeechRecognition.continuous</a></td>
        </tr>
        <tr>
            <td>interim</td>
            <td>boolean</td>
            <td>true</td>
            <td>Setting for <a href="https://dvcs.w3.org/hg/speech-api/raw-file/tip/speechapi.html#dfn-interimresults">SpeechRecognition.interimResults</a></td>
        </tr>
    </tbody>
    </table>
</div>

<h3>Methods</h3>
<div class="table-responsive">
    <table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th style="width: 150px;">Method</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>start</td>
            <td>Start speech recognition.</td>
        </tr>
        <tr>
            <td>stop</td>
            <td>Stop speech recognition.</td>
        </tr>
        <tr>
            <td>enable</td>
            <td>Enable the control button/link.</td>
        </tr>
        <tr>
            <td>disable</td>
            <td>Disable the control button/link.</td>
        </tr>
        <tr>
            <td>update</td>
            <td>Update the control button/link position.</td>
        </tr>
        <tr>
            <td>dispose</td>
            <td>Stop speech recognition and removes event listeners and data.</td>
        </tr>
    </tbody>
    </table>
</div>

<h3>Events</h3>
<div class="table-responsive">
    <table class="table table-bordered table-striped">
    <thead>
        <tr>
            <th style="width: 150px;">Event Type</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>nosupport.cast.stt</td>
            <td>SpeechRecognition is not supported by this browser.</td>
        </tr>
        <tr>
            <td>nospeech.cast.stt</td>
            <td>No speech detected.</td>
        </tr>
        <tr>
            <td>nomic.cast.stt</td>
            <td>Microphone not found.</td>
        </tr>
        <tr>
            <td>blocked.cast.stt</td>
            <td>Microphone access is blocked.</td>
        </tr>
        <tr>
            <td>denied.cast.stt</td>
            <td>Microphone access was denied.</td>
        </tr>
        <tr>
            <td>nonetwork.cast.stt</td>
            <td>Network error or <a href="https://github.com/brave/brave-browser/issues/3725#issuecomment-555694620">not proper Chrome browser</a>.</td>
        </tr>
        <tr>
            <td>init.cast.stt</td>
            <td>Initialization complete.</td>
        </tr>
        <tr>
            <td>ready.cast.stt</td>
            <td>SpeechRecognition is ready for click to start.</td>
        </tr>
        <tr>
            <td>start.cast.stt</td>
            <td>SpeechRecognition started.</td>
        </tr>
        <tr>
            <td>result.cast.stt</td>
            <td>SpeechRecognition result returned and content updated.</td>
        </tr>
        <tr>
            <td>end.cast.stt</td>
            <td>SpeechRecognition ended.</td>
        </tr>
    </tbody>
    </table>
</div>

</div> <!-- /.container -->

</body>
</html>